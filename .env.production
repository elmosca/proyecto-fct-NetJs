# Configuración de Producción - Backend API TFG
# IMPORTANTE: Cambiar todos los valores por defecto antes de usar en producción

# ==========================================
# CONFIGURACIÓN DE APLICACIÓN
# ==========================================
NODE_ENV=production
API_PORT=3000
APP_NAME="TFG Management API"
APP_VERSION="1.0.0"

# ==========================================
# BASE DE DATOS POSTGRESQL
# ==========================================
# URL completa de conexión (preferida)
DATABASE_URL="postgresql://tfg_user:CHANGE_ME_SECURE_PASSWORD@postgres:5432/tfg_production"

# O configuración individual
DB_HOST=postgres
DB_PORT=5432
DB_USERNAME=tfg_user
DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD
DB_DATABASE=tfg_production

# ==========================================
# AUTENTICACIÓN Y SEGURIDAD
# ==========================================
# IMPORTANTE: Cambiar por secretos seguros de 32+ caracteres
JWT_SECRET="CHANGE_ME_TO_A_SECURE_SECRET_OF_AT_LEAST_32_CHARACTERS"
JWT_EXPIRATION="24h"
JWT_REFRESH_EXPIRATION="7d"

# CORS - Dominios permitidos (separados por comas)
CORS_ORIGIN="https://tu-app.com,https://www.tu-app.com,https://api.tu-app.com"
ALLOWED_ORIGINS="https://tu-app.com,https://www.tu-app.com"

# ==========================================
# GESTIÓN DE ARCHIVOS
# ==========================================
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES="pdf,doc,docx,xls,xlsx,ppt,pptx,jpg,jpeg,png,gif"
UPLOAD_PATH="./storage/uploads"

# ==========================================
# RATE LIMITING
# ==========================================
RATE_LIMIT_TTL=60
RATE_LIMIT_REQUESTS=100

# ==========================================
# LOGGING
# ==========================================
LOG_LEVEL="info"
LOG_FILE_PATH="./logs"

# ==========================================
# REDIS (OPCIONAL - Para caché y sesiones)
# ==========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_SECURE_REDIS_PASSWORD

# ==========================================
# NGINX (OPCIONAL - Para load balancing)
# ==========================================
NGINX_PORT=80
NGINX_SSL_PORT=443

# ==========================================
# CONFIGURACIÓN DE CORREO (OPCIONAL)
# ==========================================
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_SECURE=false
MAIL_USER=tu-email@gmail.com
MAIL_PASS=tu-app-password
MAIL_FROM="TFG Management <noreply@tu-dominio.com>"

# ==========================================
# CONFIGURACIÓN ADICIONAL
# ==========================================
# Timezone
TZ=Europe/Madrid

# Health check URLs (para load balancers externos)
HEALTH_CHECK_PATH="/health"

# Configuración de backup
BACKUP_SCHEDULE="0 2 * * *"  # Diario a las 2 AM
BACKUP_RETENTION_DAYS=30

# ==========================================
# INSTRUCCIONES DE SEGURIDAD
# ==========================================
# 1. Cambiar TODOS los passwords y secretos por valores seguros
# 2. Usar generadores de passwords para JWT_SECRET (min 32 chars)
# 3. Configurar CORS_ORIGIN solo con tus dominios reales
# 4. En producción, usar servicios externos para BD (RDS, CloudSQL, etc.)
# 5. Configurar SSL/TLS certificates en Nginx
# 6. Implementar backup automático de base de datos
# 7. Configurar monitoreo y alertas
# 8. Usar secretos de Docker/Kubernetes para información sensible

# ==========================================
# EJEMPLOS DE COMANDOS PARA GENERAR SECRETOS
# ==========================================
# JWT Secret (Linux/Mac):
# openssl rand -base64 32
# 
# Password seguro:
# openssl rand -base64 16
#
# En PowerShell (Windows):
# [System.Web.Security.Membership]::GeneratePassword(32, 8)
